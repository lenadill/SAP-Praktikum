<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support - Clarity</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        if (localStorage.getItem('sapAuth') !== 'true') {
            window.location.href = 'login.html';
        }
    </script>
</head>
<body data-require-auth="true">
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/pictures/sap_logo.png" alt="SAP" class="sidebar-logo">
            </div>
            <nav>
                <ul class="menu">
                    <li class="menu-item">
                        <a href="index.html">
                            <span class="menu-icon"></span>
                            <span>Home</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="dashboard.html">
                            <span class="menu-icon"></span>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="settings.html">
                            <span class="menu-icon"></span>
                            <span>Settings</span>
                        </a>
                    </li>
                    <li class="menu-item active">
                        <a href="support.html">
                            <span class="menu-icon"></span>
                            <span>Support</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="logout.html" class="logout-btn">Log Out</a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="header">
                <h1>Clarity Support</h1>
            </div>

            <div class="support-container">
                <!-- Joule Promotion Section -->
                <section class="support-section joule-card">
                    <h3>
                        <img src="../assets/icons/joule_logo.png" alt="Joule" style="height: 28px;">
                        Joule AI Assistant
                    </h3>
                    <p>Have questions about your financial data in Clarity or need help with the interface? Joule is here for you 24/7.</p>
                    <div style="margin-top: 15px; margin-bottom: 20px;">
                        <p><strong>What Joule can do for you:</strong></p>
                        <ul style="margin-top: 10px; line-height: 1.6;">
                            <li>Analyze your transactions and spending habits</li>
                            <li>Provide instant explanations for dashboard features</li>
                            <li>Give personalized tips for budget planning</li>
                            <li>Search and filter your entire transaction history</li>
                        </ul>
                    </div>
                    <button class="support-btn" onclick="openJouleSupport()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 5px;"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                        Chat with Joule now
                    </button>
                </section>

                <!-- FAQ Section -->
                <section class="support-section">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6f42c1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                        Frequently Asked Questions
                    </h3>
                    <div class="faq-list">
                        <div class="faq-item">
                            <div class="faq-question">How do I update my financial data?</div>
                            <div class="faq-answer">Your financial data is automatically synchronized as soon as new transactions are booked via the API.</div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">Is my financial information secure?</div>
                            <div class="faq-answer">Yes, all data is processed in an encrypted manner according to the highest SAP enterprise security standards.</div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">How do I export my reports?</div>
                            <div class="faq-answer">You can export reports directly from the Dashboard settings or simply ask Joule: "Create a monthly report for me."</div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">How do I add a manual transaction?</div>
                            <div class="faq-answer">Go to the Dashboard and click the "Add Receipt" button in the Transactions section.</div>
                        </div>
                    </div>
                </section>

                <!-- Contact Section -->
                <section class="support-section">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6f42c1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2-2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                        Contact Human Support
                    </h3>
                    <p style="margin-bottom: 20px; color: #64748b;">Could Joule not help you further? Our expert team is at your disposal.</p>
                    <form class="contact-form" id="supportForm" onsubmit="event.preventDefault(); alert('Thank you! We have received your request.'); this.reset();">
                        <div class="form-group">
                            <input type="text" class="support-input" placeholder="Subject" required>
                        </div>
                        <div class="form-group">
                            <textarea class="support-textarea" placeholder="Describe your issue in detail..." required></textarea>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button type="submit" class="support-btn secondary">Send Request</button>
                        </div>
                    </form>
                </section>
            </div>

            <footer class="app-footer">
                <p>&copy; 2026 Clarity - A SAP Financial Tracker</p>
                <div class="footer-links">
                    <a href="#">Terms of Service</a>
                    <a href="#">Impressum</a>
                </div>
            </footer>
        </main>
    </div>

    <!-- Scripts -->
    <script src="../static/js/ai-chat.js"></script>
    <script src="../static/js/dashboard.js"></script>
    <button class="diamond-btn" title="Open AI Assistant" aria-label="Open AI Chat">
        <img src="../assets/icons/joule_logo.png" alt="AI Assistant">
    </button>

    <script>
        function openJouleSupport() {
            const diamondBtn = document.querySelector('.diamond-btn');
            if (diamondBtn) {
                diamondBtn.click();
                
                setTimeout(() => {
                    const input = document.getElementById('aiChatInput');
                    if (input) {
                        input.value = "Wie funktioniert der Support hier?";
                        // Dispatch Enter key event
                        input.dispatchEvent(new KeyboardEvent('keydown', {'key': 'Enter'}));
                    }
                }, 500);
            }
        }
    </script>
</body>
</html>
